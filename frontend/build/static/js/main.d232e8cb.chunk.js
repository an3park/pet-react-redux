(this.webpackJsonpcrapet=this.webpackJsonpcrapet||[]).push([[0],{76:function(e,a,t){e.exports=t(87)},87:function(e,a,t){"use strict";t.r(a);var n=t(8),r=t(0),l=t.n(r),c=t(128),s=t(129),i=t(32),o=(t(85),t(51)),u=t(69),m=Object(u.a)({overrides:{MuiCssBaseline:{"@global":{"*":{boxSizing:"border-box"},body:{paddingTop:"2rem"}}}},palette:{text:{secondary:o.a[400]}}}),d=t(18),p=t(122),v=t(124),f=t(134),b=t(125),E=t(119),g=t(133),h=t(121),O=Object(E.a)((function(e){return Object(g.a)({root:{display:"flex",alignItems:"center",width:e.spacing(42),height:e.spacing(11),paddingRight:e.spacing(1)},counter:{display:"flex",justifyContent:"center",alignItems:"center",alignSelf:"stretch",flexBasis:e.spacing(9),flexShrink:0,backgroundColor:e.palette.background.default,padding:e.spacing(1)},avatarWrapper:{flexShrink:0,margin:e.spacing(0,2)},avatar:{width:e.spacing(6),height:e.spacing(6),backgroundColor:h.a[500],color:e.palette.getContrastText(h.a[500])},names:{overflow:"hidden",minWidth:e.spacing(20)},email:{display:"block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},adduser:{justifyContent:"center",borderWidth:3,borderStyle:"dashed",borderColor:e.palette.text.secondary}})})),j=function(e){var a=e.user,t=e.index,n=e.skeleton,r=O(),c=(null===a||void 0===a?void 0:a.firstname)||"",s=(null===a||void 0===a?void 0:a.lastname)||"",i=(null===a||void 0===a?void 0:a.email)||"",o=(c.charAt(0)+s.charAt(0)).toUpperCase();return l.a.createElement(p.a,{className:r.root,elevation:3,square:!0},l.a.createElement("div",{className:r.counter},l.a.createElement(v.a,{color:"textSecondary",variant:"h4"},n?"":"#".concat(t))),l.a.createElement("div",{className:r.avatarWrapper},n?l.a.createElement(b.a,{variant:"circle"},l.a.createElement(f.a,{className:r.avatar})):l.a.createElement(f.a,{className:r.avatar},o)),l.a.createElement("div",{className:r.names},l.a.createElement(v.a,null,n?l.a.createElement(b.a,null):"".concat(c," ").concat(s)),l.a.createElement(v.a,{variant:"caption",color:"textSecondary",className:r.email},n?l.a.createElement(b.a,null):i)))},y=t(126),x=t(127),S=t(131),w=function(e){var a=e.onClick,t=O();return l.a.createElement(S.a,{className:t.root+" "+t.adduser,onClick:a},l.a.createElement(v.a,{variant:"h4",color:"textSecondary"},"+"))},k=t(27),C=t(10),N=t(132),I=t(130),D=Object(E.a)((function(e){return Object(g.a)({root:{display:"flex",justifyContent:"center",alignItems:"center"},body:{padding:e.spacing(4),border:"4px solid #aaa",outline:"none"},textFilelds:{margin:e.spacing(1),width:"100%"},form:{display:"flex",flexDirection:"column",alignItems:"center",width:e.spacing(40)},button:{alignSelf:"flex-end"}})})),T=function(e){var a=e.onClose,t=e.onSave,n=D(),c=Object(r.useState)({firstname:{value:"",valid:!1,message:" "},lastname:{value:"",valid:!1,message:" "},email:{value:"",valid:!1,message:" "}}),s=Object(d.a)(c,2),i=s[0],o=s[1],u=Object(r.useState)(!1),m=Object(d.a)(u,2),f=m[0],b=m[1],E=function(e){var a=e.target,t=a.value,n=a.name,r=!1,l=" ";switch(n){case"email":!(r=/^\w+@\w+\.\w+$/.test(t))&&(l="Incorrect e-mail");break;default:!(r=t.length>2)&&(l="please, fill ".concat(n," 3+ characters"))}o((function(e){return Object(C.a)(Object(C.a)({},e),{},Object(k.a)({},n,{value:t,valid:r,message:l}))}))};return l.a.createElement(N.a,{open:!0,onClose:a,className:n.root},l.a.createElement(p.a,{className:n.body},l.a.createElement(v.a,{variant:"h6"},"Create user"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),b(!0),t&&Object.values(i).every((function(e){return e.valid}))&&t({firstname:i.firstname.value,lastname:i.lastname.value,email:i.email.value})},className:n.form},l.a.createElement(I.a,{className:n.textFilelds,size:"small",label:"First name",variant:"outlined",required:!0,name:"firstname",value:i.firstname.value,onInput:E,error:f&&!i.firstname.valid,helperText:f?i.firstname.message:" "}),l.a.createElement(I.a,{className:n.textFilelds,size:"small",label:"Last name",variant:"outlined",required:!0,name:"lastname",value:i.lastname.value,onInput:E,error:f&&!i.lastname.valid,helperText:f?i.lastname.message:" "}),l.a.createElement(I.a,{className:n.textFilelds,size:"small",label:"E-mail",variant:"outlined",required:!0,name:"email",value:i.email.value,onInput:E,error:f&&!i.email.valid,helperText:f?i.email.message:" "}),l.a.createElement(S.a,{className:n.button,type:"submit",color:"primary",variant:"contained"},"Save"))))},R=t(11),U=t.n(R),A=t(17),F=t(54);function _(e){return{type:"USERS/LOADING",payload:e}}var q=function(){var e=Object(r.useState)(!1),a=Object(d.a)(e,2),t=a[0],n=a[1],c=Object(i.c)((function(e){return e.users.users})),s=Object(i.c)((function(e){return e.users.loading})),o=Object(i.b)();Object(r.useEffect)((function(){o(function(){var e=Object(A.a)(U.a.mark((function e(a){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(_(!0)),e.next=3,F.a.get("/api/user").json();case 3:t=e.sent,a({type:"USERS/FETCH",payload:t}),a(_(!1));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}),[]);return l.a.createElement(y.a,null,l.a.createElement(x.a,{container:!0,spacing:2},s?new Array(4).fill(null).map((function(e,a){return l.a.createElement(x.a,{key:a,item:!0},l.a.createElement(j,{skeleton:!0}))})):c.map((function(e,a){return l.a.createElement(x.a,{key:e.email,item:!0},l.a.createElement(j,{skeleton:!1,user:e,index:a+1}))})),!s&&l.a.createElement(x.a,{item:!0},l.a.createElement(w,{onClick:function(){return n(!0)}}))),t&&l.a.createElement(T,{onClose:function(){return n(!1)},onSave:function(e){var a;o((a=e,function(){var e=Object(A.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("/api/user",{json:a}).json();case 2:n=e.sent,t({type:"USERS/ADD",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())),n(!1)}}))},z=t(20),L=t(68),W=t(42),B={users:[],loading:!0};var G=Object(z.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USERS/FETCH":return Object(C.a)(Object(C.a)({},e),{},{users:a.payload});case"USERS/LOADING":return Object(C.a)(Object(C.a)({},e),{},{loading:a.payload});case"USERS/ADD":return Object(C.a)(Object(C.a)({},e),{},{users:[].concat(Object(W.a)(e.users),[a.payload])});default:return e}}}),H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.d,J=Object(z.e)(G,H(Object(z.a)(L.a))),M=l.a.createElement(c.a,{theme:m},l.a.createElement(s.a,null),l.a.createElement(i.a,{store:J},l.a.createElement(q,null)));Object(n.render)(M,document.getElementById("app"))}},[[76,1,2]]]);
//# sourceMappingURL=main.d232e8cb.chunk.js.map