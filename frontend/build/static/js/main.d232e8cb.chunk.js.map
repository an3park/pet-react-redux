{"version":3,"sources":["theme.ts","components/user/userStyles.ts","components/user/UserItem.tsx","components/user/AddUserButton.tsx","components/user/UserModal.tsx","store/usersActions.ts","App.tsx","store/usersReducer.ts","store/rootReducer.ts","store/store.ts","index.tsx"],"names":["theme","createMuiTheme","overrides","MuiCssBaseline","boxSizing","body","paddingTop","palette","text","secondary","grey","useStyles","makeStyles","createStyles","root","display","alignItems","width","spacing","height","paddingRight","counter","justifyContent","alignSelf","flexBasis","flexShrink","backgroundColor","background","default","padding","avatarWrapper","margin","avatar","deepPurple","color","getContrastText","names","overflow","minWidth","email","whiteSpace","textOverflow","adduser","borderWidth","borderStyle","borderColor","User","user","index","skeleton","classes","firstname","lastname","avatarText","charAt","toUpperCase","Paper","className","elevation","square","Typography","variant","Skeleton","Avatar","AddUserButton","onClick","Button","border","outline","textFilelds","form","flexDirection","button","UserModal","onClose","onSave","useState","value","valid","message","setForm","validate","setValidate","onInput","event","target","name","test","length","state","Modal","open","onSubmit","preventDefault","Object","values","every","e","TextField","size","label","required","error","helperText","type","setLoading","loading","payload","App","modalOpen","setModalOpen","users","useSelector","dispatch","useDispatch","useEffect","a","ky","get","json","Container","Grid","container","Array","fill","map","_","key","item","idx","newUser","post","resUser","initialState","rootReducer","combineReducers","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","app","ThemeProvider","CssBaseline","render","document","getElementById"],"mappings":"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","file":"static/js/main.d232e8cb.chunk.js","sourcesContent":["import { grey } from '@material-ui/core/colors'\nimport { createMuiTheme } from '@material-ui/core'\n\nexport const theme = createMuiTheme({\n  overrides: {\n    MuiCssBaseline: {\n      '@global': {\n        '*': {\n          boxSizing: 'border-box'\n        },\n        body: { paddingTop: '2rem' }\n      }\n    }\n  },\n  palette: {\n    text: { secondary: grey[400] }\n  }\n})\n","import { Theme, createStyles, makeStyles } from '@material-ui/core/styles'\nimport { deepPurple } from '@material-ui/core/colors'\n\nexport const useStyles = makeStyles((theme: Theme) => {\n  return createStyles({\n    root: {\n      display: 'flex',\n      alignItems: 'center',\n      width: theme.spacing(42),\n      height: theme.spacing(11),\n      paddingRight: theme.spacing(1)\n    },\n    counter: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      alignSelf: 'stretch',\n      flexBasis: theme.spacing(9),\n      flexShrink: 0,\n      backgroundColor: theme.palette.background.default,\n      padding: theme.spacing(1)\n    },\n    avatarWrapper: {\n      flexShrink: 0,\n      margin: theme.spacing(0, 2)\n    },\n    avatar: {\n      width: theme.spacing(6),\n      height: theme.spacing(6),\n      backgroundColor: deepPurple[500],\n      color: theme.palette.getContrastText(deepPurple[500])\n    },\n    names: {\n      overflow: 'hidden',\n      minWidth: theme.spacing(20)\n    },\n    email: {\n      display: 'block',\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis'\n    },\n    adduser: {\n      justifyContent: 'center',\n      borderWidth: 3,\n      borderStyle: 'dashed',\n      borderColor: theme.palette.text.secondary\n    }\n  })\n})\n","import React from 'react'\nimport { Typography, Avatar, Paper } from '@material-ui/core'\nimport { Skeleton } from '@material-ui/lab'\nimport { useStyles } from './userStyles'\nimport IUser from '../../interfaces/User'\n\ninterface Filled  {\n  skeleton: false\n  index: number\n  user: IUser\n}\n\ninterface Skeletoned {\n  skeleton: true\n  user?: null\n  index?: null\n}\n\nexport type Props = Filled | Skeletoned\n\nexport const User: React.FC<Props> = ({ user, index, skeleton }) => {\n  const classes = useStyles()\n  const firstname = user?.firstname || ''\n  const lastname = user?.lastname || ''\n  const email = user?.email || ''\n  const avatarText = (firstname.charAt(0) + lastname.charAt(0)).toUpperCase()\n\n  return (\n    <Paper className={classes.root} elevation={3} square>\n      <div className={classes.counter}>\n        <Typography color=\"textSecondary\" variant=\"h4\">\n          {skeleton ? '' : `#${index}`}\n        </Typography>\n      </div>\n      <div className={classes.avatarWrapper}>\n        {skeleton ? (\n          <Skeleton variant=\"circle\">\n            <Avatar className={classes.avatar} />\n          </Skeleton>\n        ) : (\n          <Avatar className={classes.avatar}>{avatarText}</Avatar>\n        )}\n      </div>\n      <div className={classes.names}>\n        <Typography>{skeleton ? <Skeleton /> : `${firstname} ${lastname}`}</Typography>\n        <Typography variant=\"caption\" color=\"textSecondary\" className={classes.email}>\n          {skeleton ? <Skeleton /> : email}\n        </Typography>\n      </div>\n    </Paper>\n  )\n}\n","import React, { MouseEvent } from 'react'\nimport { useStyles } from './userStyles'\nimport { Typography, Button } from '@material-ui/core'\n\nexport interface Props {\n  onClick?: (event: MouseEvent) => void\n}\n\nexport const AddUserButton: React.FC<Props> = ({ onClick }) => {\n  const classes = useStyles()\n\n  return (\n    <Button className={classes.root + ' ' + classes.adduser} onClick={onClick}>\n      <Typography variant=\"h4\" color=\"textSecondary\">\n        +\n      </Typography>\n    </Button>\n  )\n}\n","import React, { FormEvent, useState, ChangeEvent } from 'react'\nimport {\n  Paper,\n  TextField,\n  makeStyles,\n  Theme,\n  createStyles,\n  Button,\n  Typography,\n  Modal,\n  ModalProps\n} from '@material-ui/core'\nimport IUser from '../../interfaces/User'\n\nconst useStyles = makeStyles((theme: Theme) => {\n  return createStyles({\n    root: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    body: {\n      padding: theme.spacing(4),\n      border: '4px solid #aaa',\n      outline: 'none'\n    },\n    textFilelds: {\n      margin: theme.spacing(1),\n      width: '100%'\n    },\n    form: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      width: theme.spacing(40)\n    },\n    button: {\n      alignSelf: 'flex-end'\n    }\n  })\n})\n\ntype formData = 'firstname' | 'lastname' | 'email'\n\ntype formState = {\n  [prop in formData]: {\n    value: string\n    valid: boolean\n    message: string\n  }\n}\n\nexport type Props = {\n  onClose: ModalProps['onClose']\n  onSave?: (user: IUser) => void\n}\n\nexport const UserModal: React.FC<Props> = ({ onClose, onSave }) => {\n  const classes = useStyles()\n\n  const [form, setForm] = useState<formState>({\n    firstname: { value: '', valid: false, message: ' ' },\n    lastname: { value: '', valid: false, message: ' ' },\n    email: { value: '', valid: false, message: ' ' }\n  })\n  const [validate, setValidate] = useState(false)\n\n  const onInput = (event: ChangeEvent<HTMLInputElement>) => {\n    const { value, name } = event.target\n    let valid: boolean = false\n    let message: string = ' '\n    switch (name) {\n      case 'email':\n        valid = /^\\w+@\\w+\\.\\w+$/.test(value)\n        !valid && (message = 'Incorrect e-mail')\n        break\n      default:\n        valid = value.length > 2\n        !valid && (message = `please, fill ${name} 3+ characters`)\n        break\n    }\n    setForm(state => ({ ...state, [name]: { value, valid, message } }))\n  }\n\n  const onSubmit = (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault()\n    setValidate(true)\n    if (onSave && Object.values(form).every(e => e.valid)) {\n      onSave({\n        firstname: form.firstname.value,\n        lastname: form.lastname.value,\n        email: form.email.value\n      })\n    }\n  }\n\n  return (\n    <Modal open={true} onClose={onClose} className={classes.root}>\n      <Paper className={classes.body}>\n        <Typography variant=\"h6\">Create user</Typography>\n        <form onSubmit={onSubmit} className={classes.form}>\n          <TextField\n            className={classes.textFilelds}\n            size=\"small\"\n            label=\"First name\"\n            variant=\"outlined\"\n            required\n            name=\"firstname\"\n            value={form.firstname.value}\n            onInput={onInput}\n            error={validate && !form.firstname.valid}\n            helperText={validate ? form.firstname.message : ' '}\n          />\n          <TextField\n            className={classes.textFilelds}\n            size=\"small\"\n            label=\"Last name\"\n            variant=\"outlined\"\n            required\n            name=\"lastname\"\n            value={form.lastname.value}\n            onInput={onInput}\n            error={validate && !form.lastname.valid}\n            helperText={validate ? form.lastname.message : ' '}\n          />\n          <TextField\n            className={classes.textFilelds}\n            size=\"small\"\n            label=\"E-mail\"\n            variant=\"outlined\"\n            required\n            name=\"email\"\n            value={form.email.value}\n            onInput={onInput}\n            error={validate && !form.email.valid}\n            helperText={validate ? form.email.message : ' '}\n          />\n          <Button\n            className={classes.button}\n            type=\"submit\"\n            color=\"primary\"\n            variant=\"contained\"\n          >\n            Save\n          </Button>\n        </form>\n      </Paper>\n    </Modal>\n  )\n}\n","import IUser from '../interfaces/User'\nimport ky from 'ky'\nimport { ThunkAction } from 'redux-thunk'\nimport { RootState, RootActions } from './rootReducer'\n\ntype AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  RootActions\n>\n\nexport function setLoading(loading: boolean): RootActions {\n  return { type: 'USERS/LOADING', payload: loading }\n}\n\nexport function fetchUsersAction(): AppThunk<void> {\n  return async dispatch => {\n    dispatch(setLoading(true))\n    const users: IUser[] = await ky.get('/api/user').json()\n    dispatch({ type: 'USERS/FETCH', payload: users })\n    dispatch(setLoading(false))\n  }\n}\n\nexport function saveNewUser(user: IUser): AppThunk {\n  return async dispatch => {\n    const resUser: IUser = await ky\n      .post('/api/user', {\n        json: user\n      })\n      .json()\n    dispatch({ type: 'USERS/ADD', payload: resUser })\n  }\n}\n","import React, { useState, useEffect } from 'react'\nimport { User } from './components/user/UserItem'\nimport { Container, Grid } from '@material-ui/core'\nimport IUser from './interfaces/User'\nimport { AddUserButton } from './components/user/AddUserButton'\nimport { UserModal } from './components/user/UserModal'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { RootState } from './store/rootReducer'\nimport { fetchUsersAction, saveNewUser } from './store/usersActions'\n\nconst App: React.FC = () => {\n  const [modalOpen, setModalOpen] = useState(false)\n  const users = useSelector<RootState, IUser[]>(state => state.users.users)\n  const loading = useSelector<RootState, boolean>(state => state.users.loading)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(fetchUsersAction())\n  }, [])\n\n  const onSave = (newUser: IUser) => {\n    dispatch(saveNewUser(newUser))\n    setModalOpen(false)\n  }\n\n  return (\n    <Container>\n      <Grid container spacing={2}>\n        {loading\n          ? new Array(4).fill(null).map((_, key) => (\n              <Grid key={key} item>\n                <User skeleton />\n              </Grid>\n            ))\n          : users.map((user, idx) => (\n              <Grid key={user.email} item>\n                <User skeleton={false} user={user} index={idx + 1} />\n              </Grid>\n            ))}\n        {!loading && (\n          <Grid item>\n            <AddUserButton onClick={() => setModalOpen(true)} />\n          </Grid>\n        )}\n      </Grid>\n      {modalOpen && <UserModal onClose={() => setModalOpen(false)} onSave={onSave} />}\n    </Container>\n  )\n}\n\nexport default App\n","import IUser from '../interfaces/User'\n\nconst initialState = {\n  users: [] as IUser[],\n  loading: true\n}\n\ninterface fetchUsersAction {\n  type: 'USERS/FETCH'\n  payload: IUser[]\n}\n\ninterface setLoading {\n  type: 'USERS/LOADING'\n  payload: boolean\n}\n\ninterface saveNewUser {\n  type: 'USERS/ADD'\n  payload: IUser\n}\n\nexport type usersActions = fetchUsersAction | setLoading | saveNewUser\n\ntype usersState = typeof initialState\n\nexport function usersReducer(state = initialState, action: usersActions): usersState {\n  switch (action.type) {\n    case 'USERS/FETCH':\n      return { ...state, users: action.payload }\n    case 'USERS/LOADING':\n      return { ...state, loading: action.payload }\n    case 'USERS/ADD':\n      return {...state, users: [...state.users, action.payload]}\n    default:\n      return state\n  }\n}\n","import { combineReducers } from 'redux'\nimport { usersReducer, usersActions } from './usersReducer'\n\nexport const rootReducer = combineReducers({ users: usersReducer })\n\nexport type RootState = ReturnType<typeof rootReducer>\nexport type RootActions = usersActions","import { createStore, compose, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { rootReducer } from './rootReducer'\n\n// @ts-ignore\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\n","import { render } from 'react-dom'\nimport React from 'react'\nimport { ThemeProvider, CssBaseline } from '@material-ui/core'\nimport { Provider } from 'react-redux'\nimport 'fontsource-roboto'\n\nimport { theme } from './theme'\nimport App from './App'\nimport { store } from './store/store'\n\nconst app = (\n  <ThemeProvider theme={theme}>\n    <CssBaseline />\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </ThemeProvider>\n)\n\nrender(app, document.getElementById('app'))\n"],"sourceRoot":""}